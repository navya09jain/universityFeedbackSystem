<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>UFS || Home</title>

    <!--bootstrap-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
      crossorigin="anonymous"
    ></script>
    <!--fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Ysabeau:wght@800&display=swap"
      rel="stylesheet"
    />
    <!--font-awesome-->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <!--css-->
    <link rel="stylesheet" href="css/index.css" />

    <!--navbar-->
    <nav class="navbar navbar-expand-xl" style="background-color: #ce7777">
      <div class="container-fluid">
        <a
          class="navbar-brand text-center"
          href="http://localhost:3000/mainpage"
          style="color: white"
        >
          University Feedback System
        </a>
        <button
          class="btn me-2 student logout"
          style="background-color: #e8c4c4"
          onclick="openpopup()"
        >
          Logout
        </button>
      </div>
    </nav>
    <!-- Asking surity whether to log out or no -->
    <div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="logoutModalLabel">Confirm Logout</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>Are you sure you want to logout?</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary" onclick="logout()" style="background-color: #ce7777">Logout</button>
          </div>
        </div>
      </div>
    </div>
  </head>
  <body style="background-color: #e8c4c4" class="body">
    <div class="university">
      <img src="images/feedback.png" alt="Feedback image" class="feedback" />
      <h1 class="feedbacktitle">
        Give all your feedbacks, suggestions and opinions here!
      </h1>
      <p class="content">
        The University Feedback System is crucial for fostering communication
        and improvement within an academic institution. It enables students to
        provide constructive feedback on courses and instructors, offering
        valuable insights for enhancement. This system promotes transparency,
        collaboration, and accountability among students, faculty, and
        administrators. By leveraging student input, the university can make
        informed decisions to improve teaching methods, curriculum, and overall
        educational experiences. In essence, the feedback system serves as a
        vital tool for maintaining and enhancing the quality of education within
        the institution.
      </p>
    </div>

    <div class="card text-center">
      <div class="card-body">
        <h2 class="card-title">Feedbacks</h2>
        <img
          src="images/satisfaction.png"
          alt="Feedback picture"
          class="card-img"
        />
        <p class="card-text">
          Give your feedbacks here about college, faculty members, courses,
          canteen, fests and what not!
        </p>
        <a
          href="http://localhost:3000/feedback"
          class="btn"
          style="background-color: #e8c4c4"
        >
          Submit a Feedback
        </a>
      </div>
    </div>

    <div class="card text-center">
      <div class="card-body">
        <h2 class="card-title">Suggestions</h2>
        <img
          src="images/suggest.png"
          alt="Suggestion picture"
          class="card-img"
        />
        <p class="card-text">
          Do give your suggestions here for us to read them , act upon it and
          improve something!
        </p>
        <a
          href="http://localhost:3000/suggestion"
          class="btn"
          style="background-color: #e8c4c4"
        >
          Give a Suggestion
        </a>
      </div>
    </div>

    <div class="card text-center">
      <div class="card-body">
        <h2 class="card-title">Anonymous Complaints/Grievances</h2>
        <img
          src="images/hacker.png"
          alt="Suggestion picture"
          class="card-img"
        />
        <p class="card-text">
          If you are not happy with someone or something then submit an
          anonymous complaint here!
        </p>
        <a
          href="http://localhost:3000/anonymous"
          class="btn"
          style="background-color: #e8c4c4"
        >
          Submit Anonymous Complaint
        </a>
      </div>
    </div>
    <nav
      class="navbar navbar-expand-sm footer"
      style="background-color: #ce7777"
    >
      <p class="copyright">Copyright Â© 2023</p>
    </nav>
    <script>
      function openpopup() {
        var myModal = new bootstrap.Modal(document.getElementById('logoutModal'), {
          keyboard: false
        });
        myModal.show();
      }
      function logout() {
        fetch('/logout', {
          method: 'GET',
          headers: {
            'Content-Type': 'application/json'
          }
        })
        .then(response => {
          if (response.ok) {
            // Redirect to login page after successful logout
            window.location.href = 'http://localhost:3000/login';
          } else {
            console.error('Error logging out');
            // Handle error or display message to the user
          }
        })
        .catch(error => {
          console.error('Error logging out:', error);
          // Handle error or display message to the user
        });
      }
      // Function to confirm logout and trigger the backend logout
    </script>
  </body>
</html>
